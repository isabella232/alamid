"use strict";

var schemaRegistry = require("alamid/lib/shared/registries/schemaRegistry.js"),
        extendSchemas = require("alamid/lib/core/helpers/extendSchemas.js").extendSchemas;

        var collectedSchemas = {
                    client : {},
                    shared : {}
        };

<% _(collectedSchemas.client).each(function eachClientSchema(schemaPath, schemaUrl, schemas)  { %>
     collectedSchemas.client["<%= schemaUrl %>"] = require("<%= schemaPath %>");
<% }); %>

<% _(collectedSchemas.shared).each(function eachSharedSchema(schemaPath, schemaUrl, schemas)  { %>
    collectedSchemas.shared["<%= schemaUrl %>"] = require("<%= schemaPath %>");
<% }); %>

//extend model schemas with shared schemas
collectedSchemas = extendSchemas(collectedSchemas);
schemaRegistry.setSchemas(collectedSchemas);
